================================================================================
CURSOR HOLD โ FOLLOWER CIRCLES (ะะะะะฏ ะะะะะะะะฆะะฏ)
================================================================================
ะะฐัะฐ: 2026-02-16
ะะตััะธั: v27 (follower circles โ ัะฟัะพััะฝะฝะฐั ะฒะตััะธั)

================================================================================
ะะะะฆะะะฆะะฏ
================================================================================

ะฃ ัะพะทะดะฐัะตะปั ะบะพะผะฝะฐัั (ะฟะตัะฒัะน ะธะณัะพะบ) ะฟะพัะฒะปัะตััั ะะะะกะะซะ ะบััะณ, ะบะพัะพััะน ัะปะตะดัะตั
ะทะฐ ะตะณะพ ะผัััั โ ะฝะพ ะพัะพะฑัะฐะถะฐะตััั ะขะะะฌะะ ั ะฒัะพัะพะณะพ ะธะณัะพะบะฐ

ะฃ ะฒัะพัะพะณะพ ะธะณัะพะบะฐ ะฟะพัะฒะปัะตััั ะกะะะะ ะบััะณ, ะบะพัะพััะน ัะปะตะดัะตั ะทะฐ ะตะณะพ ะผัััั โ
ะฝะพ ะพัะพะฑัะฐะถะฐะตััั ะขะะะฌะะ ั ะฟะตัะฒะพะณะพ ะธะณัะพะบะฐ (ัะพะทะดะฐัะตะปั)

ะญััะตะบั: ยซะฟะพะณะพะฝั ะทะฐ ะบัััะพัะพะผยป ั ะทะฐะฟะฐะทะดัะฒะฐะฝะธะตะผ (lerp 0.15)
ะะธะบัะพ ะฝะต ะฒะธะดะธั ัะฒะพะน ัะพะฑััะฒะตะฝะฝัะน ะบััะณ

================================================================================
ะฃะะะะะะะซะ ะคะะะะซ (ะกะขะะะะฏ ะะะะะะะะฆะะฏ)
================================================================================

โ client/src/features/cursor/CursorManager.ts
โ client/src/features/cursor/CursorRenderer.ts
โ client/src/features/cursor/CursorDebugUI.ts

================================================================================
ะะะะซะ ะคะะะะซ
================================================================================

โ client/src/features/follower/FollowerCircle.ts

================================================================================
ะะะะะะะะะซะ ะคะะะะซ
================================================================================

๐ client/src/main.ts
   - ะะพะฑะฐะฒะปะตะฝ import FollowerCircle
   - ะะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต: private followerCircle!: FollowerCircle
   - ะกะพะทะดะฐะฝะธะต FollowerCircle ะฟะพัะปะต ะธะฝะธัะธะฐะปะธะทะฐัะธะธ PixiJS
   - ะะพะดะบะปััะตะฝะธะต inputManager.onMouseMove ะบ followerCircle.updateLocalPosition()
   - ะัะทะพะฒ followerCircle.onRoomJoined() ะฟัะธ create/join ะบะพะผะฝะฐัั

๐ client/src/core/InputManager.ts
   - ะะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต: public onMouseMove?: (x: number, y: number) => void
   - ะัะทะพะฒ onMouseMove ะฒ ะพะฑัะฐะฑะพััะธะบะต mousemove

๐ client/src/core/NetworkManager.ts
   - ะะพะฑะฐะฒะปะตะฝ ะผะตัะพะด: getSessionId(): string | null

๐ server/src/rooms/HoldingRoom.ts
   - ะะพะฑะฐะฒะปะตะฝ ะพะฑัะฐะฑะพััะธะบ: this.onMessage('followerUpdate', ...)

================================================================================
ะะะฅะะขะะะขะฃะะ ะะะะะ ะกะะกะขะะะซ
================================================================================

client/src/features/follower/FollowerCircle.ts
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
- ะะดะธะฝ ะบะปะฐัั ะฒะผะตััะพ ัััั (ัะฟัะพัะตะฝะธะต)
- ะัะฐัะฝัะน ะบััะณ (0xff0000) ะดะปั ัะพะทะดะฐัะตะปั
- ะกะธะฝะธะน ะบััะณ (0x0000ff) ะดะปั ะฟัะธัะพะตะดะธะฝะธะฒัะตะณะพัั
- ะะฝัะตัะฟะพะปััะธั ั lerp = 0.15 (ะทะฐะฟะฐะทะดัะฒะฐะฝะธะต)
- ะัะฟัะฐะฒะบะฐ ะฟะพะทะธัะธะธ ะบะฐะถะดัะต ~50 ะผั (Math.random() < 0.1 ะฟัะธ 60fps)
- ะกะฒะพะน ะบััะณ ัะบััั (graphics.visible = false)

ะกะตัะฒะตั (HoldingRoom.ts)
โโโโโโโโโโโโโโโโโโโโโโโ
- ะะฑัะฐะฑะพััะธะบ 'followerUpdate'
- Broadcast ะดััะณะธะผ ะธะณัะพะบะฐะผ ({ except: client })

================================================================================
ะะะ ะญะขะ ะะะะะขะะะข (ะะะจะะะะะ)
================================================================================

1. ะะะะะ 1 (ะกะะะะะขะะะฌ):
   - ะะฐะถะธะผะฐะตั "CREATE ROOM"
   - ะัะทัะฒะฐะตััั: followerCircle.onRoomJoined(true, sessionId)
   - isCreator = true, localPlayerId = sessionId
   - ะัะธ ะดะฒะธะถะตะฝะธะธ ะผััะธ: updateLocalPosition(x, y)
   - ะัะฟัะฐะฒะบะฐ ะฝะฐ ัะตัะฒะตั: 'followerUpdate' { x, y }
   - ะกะตัะฒะตั ัะฐัััะปะฐะตั ะะะะะะฃ 2: 'followerUpdate' { playerId: sessionId, x, y }
   - ะะณัะพะบ 2 ัะพะทะดะฐัั ะบัะฐัะฝัะน ะบััะณ ะดะปั sessionId

2. ะะะะะ 2 (ะะะะกะะะะะะะะจะะะกะฏ):
   - ะะฒะพะดะธั ID ะบะพะผะฝะฐัั, ะฝะฐะถะธะผะฐะตั "JOIN ROOM"
   - ะัะทัะฒะฐะตััั: followerCircle.onRoomJoined(false, sessionId)
   - isCreator = false, localPlayerId = sessionId
   - ะัะธ ะดะฒะธะถะตะฝะธะธ ะผััะธ: updateLocalPosition(x, y)
   - ะัะฟัะฐะฒะบะฐ ะฝะฐ ัะตัะฒะตั: 'followerUpdate' { x, y }
   - ะกะตัะฒะตั ัะฐัััะปะฐะตั ะะะะะะฃ 1: 'followerUpdate' { playerId: sessionId, x, y }
   - ะะณัะพะบ 1 ัะพะทะดะฐัั ัะธะฝะธะน ะบััะณ ะดะปั sessionId

3. ะะะะฃะะะะะะฆะะฏ:
   - ะะฐะถะดัะน ัะธะบ (PIXI.Ticker.shared): update(deltaTime)
   - ะะฝัะตัะฟะพะปััะธั: currentX += (targetX - currentX) * 0.15 * delta
   - graphics.position.set(currentX, currentY)
   - ะัะปะธ playerId === localPlayerId โ graphics.visible = false

================================================================================
ะะะกะขะะฃะะฆะะฏ ะะ ะขะะกะขะะะะะะะะฎ
================================================================================

1. ะะขะะะซะขะฌ ะะะ ะะะะกะะะ

ะะพะฝัะพะปั 1 (ัะตัะฒะตั):
  cd C:\__Qwen1\TOVCH
  npm run dev:server

ะะพะฝัะพะปั 2 (ะบะปะธะตะฝั):
  cd C:\__Qwen1\TOVCH
  npm run dev:client

2. ะะขะะะซะขะฌ ะะะะฃะะะ: http://localhost:5173
3. ะะะะะขะฌ "CREATE ROOM" (ะะณัะพะบ 1)
4. ะะขะะะซะขะฌ ะะขะะะะ ะะะะ (ะธะฝะบะพะณะฝะธัะพ): http://localhost:5173
5. ะะะะกะขะ ID ะะะะะะขะซ โ ะะะะะขะฌ "JOIN ROOM" (ะะณัะพะบ 2)
6. ะะะะะะขะฌ ะะซะจะฌะฎ ะะ ะะขะะะะ ะะะะ:
   - ะ ะฟะตัะฒะพะผ ะพะบะฝะต ะดะพะปะถะตะฝ ะฟะพัะฒะธัััั ะะะะกะะซะ ะบััะณ (ัะปะตะดัะตั ะทะฐ ะผัััั ะฒัะพัะพะณะพ)
7. ะะะะะะขะฌ ะะซะจะฌะฎ ะ ะะะะะะ ะะะะ:
   - ะะพ ะฒัะพัะพะผ ะพะบะฝะต ะดะพะปะถะตะฝ ะฟะพัะฒะธัััั ะกะะะะ ะบััะณ (ัะปะตะดัะตั ะทะฐ ะผัััั ะฟะตัะฒะพะณะพ)

================================================================================
ะะะะ ะะะฏ ะะะะะะะะ
================================================================================

ะ ะบะพะฝัะพะปะธ ะฑัะฐัะทะตัะฐ (ะพะฑะฐ ะพะบะฝะฐ):

[MainApp] GameEngine initialized!
[MainApp] Creating FollowerCircle...
[FollowerCircle] Initialized on stage
[MainApp] Follower system initialized!

ะัะธ ัะพะทะดะฐะฝะธะธ/ะฟัะธัะพะตะดะธะฝะตะฝะธะธ:
[FollowerCircle] Local player set: abc123xyz, isCreator: true/false

ะัะธ ะดะฒะธะถะตะฝะธะธ ะผััะธ (ะพัะฟัะฐะฒะบะฐ ~20 ัะฐะท ะฒ ัะตะบัะฝะดั):
(ะปะพะณะพะฒ ะฝะตั, ััะพะฑั ะฝะต ัะฟะฐะผะธัั)

ะัะธ ะฟะพะปััะตะฝะธะธ ะพะฑะฝะพะฒะปะตะฝะธั ะพั ะดััะณะพะณะพ ะธะณัะพะบะฐ:
(ะปะพะณะพะฒ ะฝะตั, ะบััะณ ะฟัะพััะพ ะดะฒะธะถะตััั)

================================================================================
ะะะะะะะะซะ ะะะะะะะะซ ะ ะะะจะะะะฏ
================================================================================

1. ะะะฃะะ ะะ ะะะะะซ
   โ ะัะพะฒะตัะธัั ะบะพะฝัะพะปั: ะตััั ะปะธ "[FollowerCircle] Created follower graphics"
   โ ะัะพะฒะตัะธัั zIndex: graphics.zIndex = 1000
   โ ะัะพะฒะตัะธัั alpha: graphics.alpha = 0.8

2. ะะะฃะะ ะะะะะฃะขะกะฏ ะกะะะจะะะ ะะซะกะขะะ (ะะะ ะะะะะะะซะะะะะฏ)
   โ ะฃะผะตะฝััะธัั lerp ะฒ update(): const lerp = 0.15 โ 0.05

3. ะะะฃะะ ะะะะะฃะขะกะฏ ะกะะะจะะะ ะะะะะะะะ
   โ ะฃะฒะตะปะธัะธัั lerp: const lerp = 0.15 โ 0.3

4. ะะขะกะฃะขะกะขะะฃะะข getSessionId()
   โ ะัะพะฒะตัะธัั NetworkManager.ts: ะผะตัะพะด ะดะพะฑะฐะฒะปะตะฝ ะฟะพัะปะต getState()

5. onMouseMove ะะ ะะซะะซะะะะขะกะฏ
   โ ะัะพะฒะตัะธัั InputManager.ts: callback ะฒัะทัะฒะฐะตััั ะฒ mousemove ะพะฑัะฐะฑะพััะธะบะต

================================================================================
ะะะะะะะขะะซ ะะะฏ ะะะกะขะะะะะ
================================================================================

FollowerCircle.ts, ัััะพะบะฐ ~85:
  g.drawCircle(0, 0, 15);           // ะะฐะดะธัั ะบััะณะฐ (15px)

FollowerCircle.ts, ัััะพะบะฐ ~87:
  g.stroke({ width: 3, color: 0xffffff });  // ะะตะปะฐั ะพะฑะฒะพะดะบะฐ 3px

FollowerCircle.ts, ัััะพะบะฐ ~88:
  g.alpha = 0.8;                    // ะัะพะทัะฐัะฝะพััั (0.0 - 1.0)

FollowerCircle.ts, ัััะพะบะฐ ~98:
  const lerp = 0.15;                // ะะพัััะธัะธะตะฝั ะธะฝัะตัะฟะพะปััะธะธ
                                    // ะะตะฝััะต = ะฑะพะปััะต ะทะฐะฟะฐะทะดัะฒะฐะฝะธะต

FollowerCircle.ts, ัััะพะบะฐ ~47:
  if (Math.random() < 0.1)          // ะงะฐััะพัะฐ ะพัะฟัะฐะฒะบะธ (~50 ะผั ะฟัะธ 60fps)
                                    // 0.1 = ~6 ัะฐะท ะฒ ัะตะบัะฝะดั
                                    // 0.2 = ~12 ัะฐะท ะฒ ัะตะบัะฝะดั

FollowerCircle.ts, ัััะพะบะฐ ~61:
  color: playerId === 'creator' ? 0xff0000 : 0x0000ff
                                    // ะัะฐัะฝัะน ะดะปั ัะพะทะดะฐัะตะปั, ัะธะฝะธะน ะดะปั joiner

================================================================================
ะกะะะะะะะะ: ะกะขะะะะฏ vs ะะะะะฏ ะะะะะะะะฆะะฏ
================================================================================

| ะฅะฐัะฐะบัะตัะธััะธะบะฐ        | ะกัะฐัะฐั (Cursor*)          | ะะพะฒะฐั (FollowerCircle)    |
|-----------------------|---------------------------|---------------------------|
| ะคะฐะนะปะพะฒ                | 3 ัะฐะนะปะฐ                   | 1 ัะฐะนะป                    |
| ะกะปะพะถะฝะพััั             | ะััะพะบะฐั (callbacks, UI)   | ะะธะทะบะฐั (ะฒัั ะฒ ะพะดะฝะพะผ)      |
| Debug UI              | ะััั (ะบะพะพัะดะธะฝะฐัั)         | ะะตั (ัะฟัะพัะตะฝะพ)            |
| ะฆะฒะตั ะบัััะพัะฐ          | ะะตะฝะตัะฐัะธั ะธะท playerId     | ะัะฐัะฝัะน/ะกะธะฝะธะน ัะธะบัะธัะพะฒะฐะฝะพ |
| ะะธะดะธะผะพััั             | ะกะฒะพะน ะฝะต ะฒะธะดะตะฝ             | ะกะฒะพะน ะฝะต ะฒะธะดะตะฝ             |
| ะะฝัะตัะฟะพะปััะธั          | lerp 0.3                  | lerp 0.15 (ะฑะพะปััะต ะทะฐะดะตัะถะบะฐ)|
| ะัะฟัะฐะฒะบะฐ ะฟะพะทะธัะธะธ      | ะะฐะถะดัะต 33 ะผั              | ~50 ะผั (random < 0.1)     |
| PixiJS ticker         | requestAnimationFrame     | PIXI.Ticker.shared        |

================================================================================
ะกะะะะฃะฎะฉะะ ะจะะะ (ะะะฆะะะะะะฌะะ)
================================================================================

โฌ ะะพะฑะฐะฒะธัั ะฒะธะทัะฐะปัะฝัะน ัััะตะบั "ัะปะตะนัะฐ" ะทะฐ ะบััะณะพะผ
โฌ ะะพะฑะฐะฒะธัั ะทะฒัะบ ะฟัะธ "ะปะพะฒะปะต" ะบััะณะฐ (ะบะพะณะดะฐ ะบัััะพั ะฑะปะธะทะบะพ)
โฌ ะกะดะตะปะฐัั ัะฐะทะผะตั ะบััะณะฐ ะทะฐะฒะธัะธะผัะผ ะพั ัะฐัััะพัะฝะธั ะดะพ ะบัััะพัะฐ
โฌ ะะพะฑะฐะฒะธัั ัะฐััะธัั ะฟัะธ ะดะฒะธะถะตะฝะธะธ ะบััะณะฐ
โฌ ะะฐะทะดะตะปะธัั ะฝะฐ 2 ัะฐะนะปะฐ (FollowerManager + FollowerRenderer)

================================================================================
ะะะะะฆ ะคะะะะ
================================================================================
